{"ast":null,"code":"import { getDateYYYYMMDD } from \"./app.util\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./app.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./add/add.component\";\nimport * as i4 from \"./list/list.component\";\nfunction AppComponent_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AppComponent_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.onCancel());\n    });\n    i0.ɵɵtext(1, \" Cancel \");\n    i0.ɵɵelementEnd();\n  }\n}\nclass AppComponent {\n  constructor(appService) {\n    this.appService = appService;\n    this.todos = [];\n    this.formState = \"add\";\n    this.form = {\n      id: null,\n      name: \"\",\n      description: \"\",\n      dueDate: getDateYYYYMMDD(new Date()),\n      priority: \"normal\",\n      isDone: false\n    };\n    this.todos = this.appService.getTasks();\n  }\n  onDetail(task) {\n    this.formState = \"edit\";\n    this.form = {\n      ...task\n    };\n  }\n  onRemove(index) {\n    this.todos.splice(index, 1);\n    this.appService.setTasks(this.todos);\n  }\n  onChangeDone(data) {\n    data.isDone = !data.isDone;\n    this.appService.setTasks(this.todos);\n  }\n  onSubmit(data) {\n    if (data.id) {\n      for (let i = 0; i < this.todos.length; i++) {\n        if (this.todos[i].id === data.id) {\n          this.todos[i].name = data.name;\n          this.todos[i].description = data.description;\n          this.todos[i].priority = data.priority;\n          this.todos[i].dueDate = data.dueDate;\n          break;\n        }\n      }\n      this.appService.setTasks(this.todos);\n      this.onCancel();\n      return;\n    }\n    this.todos.push({\n      ...data,\n      id: this.todos.length + 1\n    });\n    this.appService.setTasks(this.todos);\n    this.onCancel();\n  }\n  onCancel() {\n    this.formState = \"add\";\n    this.form = {\n      id: null,\n      name: \"\",\n      description: \"\",\n      dueDate: getDateYYYYMMDD(new Date()),\n      priority: \"normal\",\n      isDone: false\n    };\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.AppService));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 6,\n  vars: 5,\n  consts: [[1, \"app-container\"], [3, \"data\", \"detail\", \"remove\", \"changeDone\"], [1, \"title\"], [3, \"formState\", \"formData\", \"submit\"], [\"class\", \"cancel-btn\", 3, \"click\", 4, \"ngIf\"], [1, \"cancel-btn\", 3, \"click\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"app-list\", 1);\n      i0.ɵɵlistener(\"detail\", function AppComponent_Template_app_list_detail_1_listener($event) {\n        return ctx.onDetail($event);\n      })(\"remove\", function AppComponent_Template_app_list_remove_1_listener($event) {\n        return ctx.onRemove($event);\n      })(\"changeDone\", function AppComponent_Template_app_list_changeDone_1_listener($event) {\n        return ctx.onChangeDone($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"app-add\", 3);\n      i0.ɵɵlistener(\"submit\", function AppComponent_Template_app_add_submit_4_listener($event) {\n        return ctx.onSubmit($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(5, AppComponent_button_5_Template, 2, 0, \"button\", 4);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"data\", ctx.todos);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.formState === \"add\" ? \"New Task\" : \"Edit Task\", \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formState\", ctx.formState)(\"formData\", ctx.form);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.formState === \"edit\");\n    }\n  },\n  dependencies: [i2.NgIf, i3.AddComponent, i4.ListComponent],\n  styles: [\".app-container[_ngcontent-%COMP%] {\\n  width: 1000px;\\n  max-width: 100%;\\n  margin: auto;\\n}\\n.app-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: 20px;\\n  text-align: center;\\n  margin-top: 20px;\\n}\\n.app-container[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%] {\\n  background: #cccccc;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0FBQ0Y7QUFBRTtFQUNFLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7QUFFSjtBQUFFO0VBQ0UsbUJBQUE7QUFFSiIsInNvdXJjZXNDb250ZW50IjpbIi5hcHAtY29udGFpbmVyIHtcbiAgd2lkdGg6IDEwMDBweDtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBtYXJnaW46IGF1dG87XG4gIC50aXRsZSB7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgZm9udC1zaXplOiAyMHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICB9XG4gIC5jYW5jZWwtYnRuIHtcbiAgICBiYWNrZ3JvdW5kOiAjY2NjY2NjO1xuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nexport { AppComponent };","map":{"version":3,"names":["getDateYYYYMMDD","i0","ɵɵelementStart","ɵɵlistener","AppComponent_button_5_Template_button_click_0_listener","ɵɵrestoreView","_r2","ctx_r1","ɵɵnextContext","ɵɵresetView","onCancel","ɵɵtext","ɵɵelementEnd","AppComponent","constructor","appService","todos","formState","form","id","name","description","dueDate","Date","priority","isDone","getTasks","onDetail","task","onRemove","index","splice","setTasks","onChangeDone","data","onSubmit","i","length","push","ɵɵdirectiveInject","i1","AppService","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","AppComponent_Template_app_list_detail_1_listener","$event","AppComponent_Template_app_list_remove_1_listener","AppComponent_Template_app_list_changeDone_1_listener","AppComponent_Template_app_add_submit_4_listener","ɵɵtemplate","AppComponent_button_5_Template","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate1"],"sources":["/Users/lecuong/WebstormProjects/react/test-angular/src/app/app.component.ts","/Users/lecuong/WebstormProjects/react/test-angular/src/app/app.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {Todo} from \"./app.model\";\nimport {getDateYYYYMMDD} from \"./app.util\";\nimport {AppService} from \"./app.service\";\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\n\nexport class AppComponent {\n  todos: Todo[] = [];\n  formState: \"add\" | \"edit\" = \"add\";\n\n  form: Todo = {\n    id: null,\n    name: \"\",\n    description: \"\",\n    dueDate: getDateYYYYMMDD(new Date()),\n    priority: \"normal\",\n    isDone: false,\n  }\n\n  constructor(private appService: AppService) {\n    this.todos = this.appService.getTasks();\n  }\n\n  public onDetail(task: Todo) {\n    this.formState = \"edit\";\n    this.form = {...task};\n  }\n\n  public onRemove(index: number) {\n    this.todos.splice(index, 1);\n    this.appService.setTasks(this.todos);\n  }\n\n  public onChangeDone(data: Todo) {\n    data.isDone = !data.isDone;\n    this.appService.setTasks(this.todos);\n  }\n\n  public onSubmit(data: Todo) {\n    if (data.id) {\n      for(let i = 0; i < this.todos.length; i++) {\n        if (this.todos[i].id === data.id) {\n          this.todos[i].name = data.name;\n          this.todos[i].description = data.description;\n          this.todos[i].priority = data.priority;\n          this.todos[i].dueDate = data.dueDate;\n          break;\n        }\n      }\n      this.appService.setTasks(this.todos);\n      this.onCancel();\n      return;\n    }\n    this.todos.push({\n      ...data,\n      id: this.todos.length + 1,\n    });\n    this.appService.setTasks(this.todos);\n    this.onCancel();\n  }\n\n  public onCancel() {\n    this.formState = \"add\";\n    this.form = {\n      id: null,\n      name: \"\",\n      description: \"\",\n      dueDate: getDateYYYYMMDD(new Date()),\n      priority: \"normal\",\n      isDone: false,\n    };\n  }\n}\n","<div class=\"app-container\">\n  <app-list\n    [data]=\"todos\"\n    (detail)=\"onDetail($event)\"\n    (remove)=\"onRemove($event)\"\n    (changeDone)=\"onChangeDone($event)\"\n  >\n  </app-list>\n  <div class=\"title\">\n    {{formState === \"add\" ? \"New Task\" : \"Edit Task\"}}\n  </div>\n  <app-add\n    [formState]=\"formState\"\n    [formData]=\"form\"\n    (submit)=\"onSubmit($event)\"\n  >\n  </app-add>\n  <button\n    *ngIf=\"formState === 'edit'\"\n    class=\"cancel-btn\"\n    (click)=\"onCancel()\"\n  >\n    Cancel\n  </button>\n</div>\n"],"mappings":"AAEA,SAAQA,eAAe,QAAO,YAAY;;;;;;;;;ICexCC,EAAA,CAAAC,cAAA,gBAIC;IADCD,EAAA,CAAAE,UAAA,mBAAAC,uDAAA;MAAAH,EAAA,CAAAI,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAN,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAF,MAAA,CAAAG,QAAA,EAAU;IAAA,EAAC;IAEpBT,EAAA,CAAAU,MAAA,eACF;IAAAV,EAAA,CAAAW,YAAA,EAAS;;;ADlBX,MAMaC,YAAY;EAavBC,YAAoBC,UAAsB;IAAtB,KAAAA,UAAU,GAAVA,UAAU;IAZ9B,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,SAAS,GAAmB,KAAK;IAEjC,KAAAC,IAAI,GAAS;MACXC,EAAE,EAAE,IAAI;MACRC,IAAI,EAAE,EAAE;MACRC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAEtB,eAAe,CAAC,IAAIuB,IAAI,EAAE,CAAC;MACpCC,QAAQ,EAAE,QAAQ;MAClBC,MAAM,EAAE;KACT;IAGC,IAAI,CAACT,KAAK,GAAG,IAAI,CAACD,UAAU,CAACW,QAAQ,EAAE;EACzC;EAEOC,QAAQA,CAACC,IAAU;IACxB,IAAI,CAACX,SAAS,GAAG,MAAM;IACvB,IAAI,CAACC,IAAI,GAAG;MAAC,GAAGU;IAAI,CAAC;EACvB;EAEOC,QAAQA,CAACC,KAAa;IAC3B,IAAI,CAACd,KAAK,CAACe,MAAM,CAACD,KAAK,EAAE,CAAC,CAAC;IAC3B,IAAI,CAACf,UAAU,CAACiB,QAAQ,CAAC,IAAI,CAAChB,KAAK,CAAC;EACtC;EAEOiB,YAAYA,CAACC,IAAU;IAC5BA,IAAI,CAACT,MAAM,GAAG,CAACS,IAAI,CAACT,MAAM;IAC1B,IAAI,CAACV,UAAU,CAACiB,QAAQ,CAAC,IAAI,CAAChB,KAAK,CAAC;EACtC;EAEOmB,QAAQA,CAACD,IAAU;IACxB,IAAIA,IAAI,CAACf,EAAE,EAAE;MACX,KAAI,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACpB,KAAK,CAACqB,MAAM,EAAED,CAAC,EAAE,EAAE;QACzC,IAAI,IAAI,CAACpB,KAAK,CAACoB,CAAC,CAAC,CAACjB,EAAE,KAAKe,IAAI,CAACf,EAAE,EAAE;UAChC,IAAI,CAACH,KAAK,CAACoB,CAAC,CAAC,CAAChB,IAAI,GAAGc,IAAI,CAACd,IAAI;UAC9B,IAAI,CAACJ,KAAK,CAACoB,CAAC,CAAC,CAACf,WAAW,GAAGa,IAAI,CAACb,WAAW;UAC5C,IAAI,CAACL,KAAK,CAACoB,CAAC,CAAC,CAACZ,QAAQ,GAAGU,IAAI,CAACV,QAAQ;UACtC,IAAI,CAACR,KAAK,CAACoB,CAAC,CAAC,CAACd,OAAO,GAAGY,IAAI,CAACZ,OAAO;UACpC;;;MAGJ,IAAI,CAACP,UAAU,CAACiB,QAAQ,CAAC,IAAI,CAAChB,KAAK,CAAC;MACpC,IAAI,CAACN,QAAQ,EAAE;MACf;;IAEF,IAAI,CAACM,KAAK,CAACsB,IAAI,CAAC;MACd,GAAGJ,IAAI;MACPf,EAAE,EAAE,IAAI,CAACH,KAAK,CAACqB,MAAM,GAAG;KACzB,CAAC;IACF,IAAI,CAACtB,UAAU,CAACiB,QAAQ,CAAC,IAAI,CAAChB,KAAK,CAAC;IACpC,IAAI,CAACN,QAAQ,EAAE;EACjB;EAEOA,QAAQA,CAAA;IACb,IAAI,CAACO,SAAS,GAAG,KAAK;IACtB,IAAI,CAACC,IAAI,GAAG;MACVC,EAAE,EAAE,IAAI;MACRC,IAAI,EAAE,EAAE;MACRC,WAAW,EAAE,EAAE;MACfC,OAAO,EAAEtB,eAAe,CAAC,IAAIuB,IAAI,EAAE,CAAC;MACpCC,QAAQ,EAAE,QAAQ;MAClBC,MAAM,EAAE;KACT;EACH;;AAjEWZ,YAAY,C;mBAAZA,YAAY,EAAAZ,EAAA,CAAAsC,iBAAA,CAAAC,EAAA,CAAAC,UAAA;AAAA;AAAZ5B,YAAY,C;QAAZA,YAAY;EAAA6B,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,sBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCXzB/C,EAAA,CAAAC,cAAA,aAA2B;MAGvBD,EAAA,CAAAE,UAAA,oBAAA+C,iDAAAC,MAAA;QAAA,OAAUF,GAAA,CAAAtB,QAAA,CAAAwB,MAAA,CAAgB;MAAA,EAAC,oBAAAC,iDAAAD,MAAA;QAAA,OACjBF,GAAA,CAAApB,QAAA,CAAAsB,MAAA,CAAgB;MAAA,EADC,wBAAAE,qDAAAF,MAAA;QAAA,OAEbF,GAAA,CAAAhB,YAAA,CAAAkB,MAAA,CAAoB;MAAA,EAFP;MAI7BlD,EAAA,CAAAW,YAAA,EAAW;MACXX,EAAA,CAAAC,cAAA,aAAmB;MACjBD,EAAA,CAAAU,MAAA,GACF;MAAAV,EAAA,CAAAW,YAAA,EAAM;MACNX,EAAA,CAAAC,cAAA,iBAIC;MADCD,EAAA,CAAAE,UAAA,oBAAAmD,gDAAAH,MAAA;QAAA,OAAUF,GAAA,CAAAd,QAAA,CAAAgB,MAAA,CAAgB;MAAA,EAAC;MAE7BlD,EAAA,CAAAW,YAAA,EAAU;MACVX,EAAA,CAAAsD,UAAA,IAAAC,8BAAA,oBAMS;MACXvD,EAAA,CAAAW,YAAA,EAAM;;;MAtBFX,EAAA,CAAAwD,SAAA,GAAc;MAAdxD,EAAA,CAAAyD,UAAA,SAAAT,GAAA,CAAAjC,KAAA,CAAc;MAOdf,EAAA,CAAAwD,SAAA,GACF;MADExD,EAAA,CAAA0D,kBAAA,MAAAV,GAAA,CAAAhC,SAAA,2CACF;MAEEhB,EAAA,CAAAwD,SAAA,GAAuB;MAAvBxD,EAAA,CAAAyD,UAAA,cAAAT,GAAA,CAAAhC,SAAA,CAAuB,aAAAgC,GAAA,CAAA/B,IAAA;MAMtBjB,EAAA,CAAAwD,SAAA,GAA0B;MAA1BxD,EAAA,CAAAyD,UAAA,SAAAT,GAAA,CAAAhC,SAAA,YAA0B;;;;;;SDPlBJ,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}